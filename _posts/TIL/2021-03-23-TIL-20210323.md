---
title: '2021-03-23 TIL(at work)'
categories:
- TIL
tag:
- [TIL]
last_modified_at: '2021-03-23 22:00:00 +0800'
---

# 회원의 아이디와 비밀번호 검증하기
## As is
- 많은 사이트에서 회원 가입을 하거나 회원 정보를 수정할 때, 비밀번호에 많은 조건을 부여한다. 예를 들어 특수문자, 영문자, 숫자로만 이루어지게 비밀번호를 설정해야 한다거나 하는 것이다. 이전에 프로젝트를 진행하면서 이런 기능을 구현하고 싶었지만, 당시에는 해내지 못했다. 최근 자바스크립트를 공부하다보니 해당 기능을 구현할 수 있을 것 같아서 다시 도전해보려 한다.
- 이전에는 사용자로부터 입력받은 값의 길이만 확인하여 회원 가입을 진행했다. 이때에도 비밀번호를 두 번 입력받아, 두 개의 비밀번호가 서로 일치하는지 확인하는 기능을 구현하기는 했었다.

```html
	<form id="userForm" action="add" method="post">
        <div class="mb-3 row">
            <label for="email" class='form-label col-sm-2 col-form-label'>이메일 아이디</label>
            <div class="col-sm-10">
                <input id="inputEmail" type='email' class="form-control" name='email' placeholder="Example@test.com">
            </div>
        </div>
        
        <div class="mb-3 row">
            <label for="password" class='form-label col-sm-2 col-form-label'>비밀번호</label>
            <div class="col-sm-10">
                <input id="inputPassword" type='password' class="form-control" name='password' 
                        placeholder="8~20자로 설정">
            </div>
        </div>
        
        <div class="mb-3 row">
            <label for="passwordConfirm" class='form-label col-sm-2 col-form-label'>비밀번호 확인</label>
            <div class="col-sm-10">
                <input id="passwordConfirm" type='password' class="form-control" name='passwordConfirm' 
                        placeholder="위의 비밀번호와 동일하게 입력">
            </div>
        </div>


    ...

    
	</form>


<script>
    document.querySelector("#userForm").onsubmit = () => {
        var inputEmail = document.querySelector("#inputEmail");
        var inputPassword = document.querySelector("#inputPassword");

        if (inputEmail.value.length < 8) {
            alert("이메일을 알맞게 입력했는지 확인하세요!");
            return false;
        }

        if (inputPassword.value.length < 8) {
            alert("비밀번호를 8자 이상 입력하세요!");
            return false;
        } else if (inputPassword.value != passwordConfirm.value) {
            alert("비밀번호가 일치하지 않습니다.");
            return false;
        }

        if (document.querySelector("#inputEmail").value.length < 1 ||
            document.querySelector("#inputPassword").value.length < 1) {
            alert("모든 항목을 입력해야 회원 가입이 가능합니다.");
            return false;
        }
    };
</script>
```



## To be
### 이메일 검증
- 사용자가 입력한 이메일이 유효한 이메일인지 확인하도록 하는 코드를 작성한다. 해당 코드는 `<input>` 태그에 타입을 지정하면 되므로 꼭 필요하지는 않다고 생각한다.
- 기존에는 javaScript와 html을 분리하지 않고 하나의 파일로 작성했지만, 앞으로는 두 코드를 분리할 계획이다.
- `.html`에 이메일을 알맞게 입력했는지 확인할 수 있는 버튼을 추가한다.

```html
	<form id="userForm" action="add" method="post">
        <div class="mb-3 row">
            <label for="email" class='form-label col-sm-2 col-form-label'>이메일 아이디</label>
            <div class="col-sm-10">
                <input id="inputEmail" type='email' class="form-control" name='email' placeholder="Example@test.com">
            </div>
            <button type="button" onclick="verifyEmail();">이메일 확인하기</button>
        </div>

    ...

    
	</form>
```


- `.js`에는 이메일을 알맞게 입력했는지 확인하는 메서드를 구현하는데, 정규 표현식을 사용한다.

```javascript
verifyEmail = function() {
    var email = $("#inputEmail").val();

    // 이메일 검증에 사용할 정규식
    var regularExpression = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;

    if (email.match(regularExpression) != null) {   
        alert('이메일 형식이 알맞게 입력되었습니다.');
    }
    else {
        alert('이메일 형식이 올바르지 않습니다.');
    }
};
```


### 비밀번호 검증

- `.html`

```html
	<form id="userForm" action="add" method="post">

        <div class="mb-3 row">
        <label for="password" class='form-label col-sm-2 col-form-label'>비밀번호</label>
            <div class="col-sm-10">
            <input id="inputPassword" type='password' class="form-control" name='password' 
                    placeholder="8~20자로 설정">
            </div>
        </div>
        
        <div class="mb-3 row">
        <label for="passwordConfirm" class='form-label col-sm-2 col-form-label'>비밀번호 확인</label>
            <div class="col-sm-10">
            <input id="passwordConfirm" type='password' class="form-control" name='passwordConfirm' 
                    placeholder="위의 비밀번호와 동일하게 입력">
            </div>
        </div>

    ...
    
	</form>
```